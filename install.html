

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation &mdash; Extempore 0.6.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Extempore 0.6.1 documentation" href="index.html"/>
        <link rel="next" title="Text editors" href="editor-support.html"/>
        <link rel="prev" title="Quickstart" href="quickstart.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Extempore
          

          
          </a>

          
            
            
              <div class="version">
                0.6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Getting started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="#installing-extempore">Installing Extempore</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#quick-install">Quick install</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#osx-via-homebrew">OSX (via homebrew)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-from-source-linux-osx">Build from source (Linux/OSX)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#windows">Windows</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#slow-install">Slow install</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#configure">Configure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#make-install">Make &amp; Install</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#extended-shared-libs">&#8220;Extended&#8221; shared libs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#build-extended-dependencies-from-source">Build extended dependencies from source</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#aot-compiling-the-extempore-standard-library">AOT-compiling the Extempore standard library</a></li>
<li class="toctree-l2"><a class="reference internal" href="#llvm-3-7-0">LLVM 3.7.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="#packaging">Packaging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#osx">OSX</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="#linux">Linux</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="editor-support.html">Text editors</a></li>
<li class="toctree-l1"><a class="reference internal" href="about-this-documentation.html">About this documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Key concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="philosophy.html">The Extempore philosophy</a></li>
<li class="toctree-l1"><a class="reference internal" href="caas.html">Interacting with the Extempore Compiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="time.html">Time in Extempore</a></li>
<li class="toctree-l1"><a class="reference internal" href="c-xtlang-interop.html">C-xtlang interop</a></li>
<li class="toctree-l1"><a class="reference internal" href="scheme-xtlang-interop.html">Scheme-xtlang interop</a></li>
<li class="toctree-l1"><a class="reference internal" href="concurrency.html">Concurrency</a></li>
</ul>
<p class="caption"><span class="caption-text">xtlang&#8212;the Extempore language</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="type-system.html">xtlang type reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="generics.html">Generics</a></li>
<li class="toctree-l1"><a class="reference internal" href="memory.html">Memory management in Extempore</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials &amp; Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="audio-signal-processing.html">Audio signal processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="making-an-instrument.html">Making an instrument</a></li>
<li class="toctree-l1"><a class="reference internal" href="note-level-music.html">Playing an instrument</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampler.html">Loading and using a sampler</a></li>
<li class="toctree-l1"><a class="reference internal" href="graphics.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="impromptu-users.html">Extempore for Impromptu users</a></li>
</ul>
<p class="caption"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting-help.html">Getting Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Extempore</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Installation</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/install.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="installing-extempore">
<h1>Installing Extempore<a class="headerlink" href="#installing-extempore" title="Permalink to this headline">¶</a></h1>
<div class="section" id="quick-install">
<h2>Quick install<a class="headerlink" href="#quick-install" title="Permalink to this headline">¶</a></h2>
<div class="section" id="osx-via-homebrew">
<h3>OSX (via homebrew)<a class="headerlink" href="#osx-via-homebrew" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://brew.sh/">Homebrew</a> makes the process pretty simple, although since it&#8217;s
building everything (including LLVM) from source it may still take up to
15mins depending on your machine.</p>
<p>Extempore has a &#8220;core&#8221; library, which includes things like the math and
audio DSP libraries and doesn&#8217;t depend on any external shared libraries.
This is the option homebrew will use by default - it&#8217;s still a
fully-fledged xtlang compiler and everything else.</p>
<p>However, there are a few external libraries which you might want to use
to do certain things, like open up OpenGL canvases or load compressed
audio files. We call this the &#8220;extended&#8221; library, and there&#8217;s a
<code class="docutils literal"><span class="pre">--with-extended</span></code> flag to tell homebrew to go and grab those other
packages as well.</p>
<p>To install Extempore through homebrew, first:</p>
<div class="highlight-python"><div class="highlight"><pre>brew tap benswift/extempore &amp;&amp; brew tap homebrew/versions
</pre></div>
</div>
<p>then:</p>
<div class="highlight-python"><div class="highlight"><pre>brew install extempore
</pre></div>
</div>
<p>or, if you want the &#8220;extended&#8221; libs (e.g. graphics):</p>
<div class="highlight-python"><div class="highlight"><pre>brew install extempore --with-extended
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">homebrew/versions</span></code> tap is needed for <code class="docutils literal"><span class="pre">glfw3</span></code> (required to build
the extended stdlib) while the <code class="docutils literal"><span class="pre">benswift/extempore</span></code> tap is contains
Extempore itself (and a few other deps)</p>
<p><strong>Caveats</strong></p>
<p>If you&#8217;ve installed Extempore through homebrew previously (i.e. if
<code class="docutils literal"><span class="pre">brew</span> <span class="pre">info</span> <span class="pre">extempore</span></code> shows a version &lt;= 0.59) then you&#8217;ll need to
remove a couple of things first:</p>
<div class="highlight-python"><div class="highlight"><pre>brew rm extempore kissfft libnanovg
</pre></div>
</div>
<p>If you&#8217;re on OSX <strong>10.9</strong> or earlier, there&#8217;s an incompatibility with
your version of clang and the LLVM 3.7.0 which Extempore uses. For the
moment the easiest way around this is to download the old <code class="docutils literal"><span class="pre">0.5.9</span></code>
version of Extempore with:</p>
<div class="highlight-python"><div class="highlight"><pre>brew tap benswift/extempore
brew install extempore059
</pre></div>
</div>
<p>again, if you want the &#8220;extended&#8221; libs (e.g. graphics):</p>
<div class="highlight-python"><div class="highlight"><pre>brew install extempore059 --with-extended
</pre></div>
</div>
</div>
<div class="section" id="build-from-source-linux-osx">
<h3>Build from source (Linux/OSX)<a class="headerlink" href="#build-from-source-linux-osx" title="Permalink to this headline">¶</a></h3>
<p>If you&#8217;ve got <code class="docutils literal"><span class="pre">git</span></code>, <code class="docutils literal"><span class="pre">cmake</span></code> and a C++ compiler toolchain installed,
then you can build Extempore with:</p>
<div class="highlight-python"><div class="highlight"><pre>git clone https://github.com/digego/extempore &amp;&amp; mkdir extempore/cmake-build &amp;&amp; cd extempore/cmake-build &amp;&amp; cmake .. &amp;&amp; make install &amp;&amp; make aot
</pre></div>
</div>
</div>
<div class="section" id="windows">
<h3>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h3>
<p>Download a <a class="reference external" href="http://extempore.moso.com.au/extras/Extempore-0.6.0-win64.zip">precompiled binary</a>, unzip it and run <code class="docutils literal"><span class="pre">extempore.exe</span></code>
from inside the <code class="docutils literal"><span class="pre">extempore</span></code> folder.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The Windows binary is currently a little out-of-date, so
some of the docs may be wrong. If you&#8217;ve got experience
doing packaging/distribution on Windows and want to help
out (please!) <a class="reference external" href="mailto:extemporelang&#37;&#52;&#48;googlegroups&#46;com">get in touch</a>.</p>
</div>
</div>
</div>
<div class="section" id="slow-install">
<h2>Slow install<a class="headerlink" href="#slow-install" title="Permalink to this headline">¶</a></h2>
<p>Here are some more detailed instructions&#8212;in case the quick install
doesn&#8217;t suit your needs or you just want to have a better idea of
what&#8217;s going on.</p>
<p>You&#8217;ll need</p>
<p>a <strong>C++ compiler toolchain</strong>, e.g.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">g++</span></code> on Ubuntu/Debian</li>
<li><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">yum</span> <span class="pre">install</span> <span class="pre">gcc</span> <span class="pre">gcc-c++</span></code> on Fedora/CentOS/RHEL</li>
<li>Xcode or the <a class="reference external" href="https://developer.apple.com/library/ios/technotes/tn2339/_index.html#//apple_ref/doc/uid/DTS40014588-CH1-WHAT_IS_THE_COMMAND_LINE_TOOLS_PACKAGE_">command line tools</a> on OSX</li>
<li>Visual Studio on Windows (the <a class="reference external" href="https://www.visualstudio.com/en-us/products/visual-studio-community-vs.aspx">Community 2015</a> version is now free)</li>
</ul>
<p>Extempore should build with clang, gcc and MSVC - and possibly other
compilers (but I haven&#8217;t tried them).</p>
<p><strong>git</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">git</span></code> on Ubuntu/Debian</li>
<li><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">yum</span> <span class="pre">install</span> <span class="pre">git</span></code> on Fedora/CentOS/RHEL</li>
<li><code class="docutils literal"><span class="pre">brew</span> <span class="pre">install</span> <span class="pre">git</span></code> on OSX with Homebrew</li>
<li><code class="docutils literal"><span class="pre">choco</span> <span class="pre">install</span> <span class="pre">git</span></code> on Windows with Chocolatey</li>
</ul>
<p><strong>CMake</strong> (version 3.1 or greater)</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">yum</span> <span class="pre">install</span> <span class="pre">cmake</span></code> on Fedora/CentOS/RHEL</li>
<li><code class="docutils literal"><span class="pre">brew</span> <span class="pre">install</span> <span class="pre">cmake</span></code> on OSX with Homebrew</li>
<li><code class="docutils literal"><span class="pre">choco</span> <span class="pre">install</span> <span class="pre">cmake</span></code> on Windows with Chocolatey</li>
</ul>
<p>The Ubuntu 15.04 package archive only includes CMake v3.0, but you can
get a more up-to-date version through a package archive:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get install software-properties-common &amp;&amp; sudo add-apt-repository ppa:george-edison55/cmake-3.x &amp;&amp; sudo apt-get update &amp;&amp; sudo apt-get install cmake
</pre></div>
</div>
<p><strong>ALSA</strong> (Linux only)</p>
<p>To use the <a class="reference external" href="http://www.alsa-project.org/">ALSA</a> portaudio backend (which is probably what you want,
unless you have a real reason to go with something else) you&#8217;ll need the
libasound package at build-time, e.g. (on Ubuntu):</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get install libasound2-dev
</pre></div>
</div>
<p><strong>Jack</strong> (Linux only)</p>
<p>To use the <a class="reference external" href="http://www.jackaudio.org/">Jack</a> portaudio backend, you&#8217;ll need to have Jack
installed, and then to set the <code class="docutils literal"><span class="pre">JACK</span></code> cmake option with <code class="docutils literal"><span class="pre">-DJACK=ON</span></code></p>
<p><strong>Boost</strong> (Windows only)</p>
<p>We still need one component of the <strong>Boost</strong> libs on Windows
(specifically the ASIO component for TCP/UDP handling). If you&#8217;ve got
the NuGet command line client installed, you can probably do:</p>
<div class="highlight-python"><div class="highlight"><pre>nuget install boost-vc140 &amp; nuget install boost_system-vc140 &amp; nuget install boost_regex-vc140 &amp; nuget install boost_date_time-vc140
</pre></div>
</div>
<p>It doesn&#8217;t matter how you get these deps or where you put them, as long
as you tell Extempore where they are through the <code class="docutils literal"><span class="pre">BOOST_DIR</span></code> cmake
variable. The <code class="docutils literal"><span class="pre">BOOST_DIR</span></code> should have two subdirectories <code class="docutils literal"><span class="pre">include</span></code>
and <code class="docutils literal"><span class="pre">lib</span></code>, which should contain the boost header directory and the
<code class="docutils literal"><span class="pre">libboost*.lib</span></code> files respectively.</p>
<p><strong>LLVM 3.7.0</strong></p>
<p>As of <code class="docutils literal"><span class="pre">21e750a</span></code>, downloading and building LLVM 3.7 happens
automatically as part of the Extempore cmake build process. But
instructions are included at the end of this file in case you want to do
it yourself.</p>
<div class="section" id="configure">
<span id="install-configure-doc"></span><h3>Configure<a class="headerlink" href="#configure" title="Permalink to this headline">¶</a></h3>
<p>Extempore uses CMake for configuration. In your <code class="docutils literal"><span class="pre">extempore</span></code> directory
(i.e. the one this <code class="docutils literal"><span class="pre">INSTALL.md</span></code> file is in):</p>
<div class="highlight-python"><div class="highlight"><pre>mkdir cmake-build &amp;&amp; cd cmake-build &amp;&amp; cmake ..
</pre></div>
</div>
<p>On <strong>Windows</strong>, you&#8217;ll need to give CMake a few more details about where
Boost is:</p>
<div class="highlight-python"><div class="highlight"><pre>md cmake-build &amp;&amp; cd cmake-build
cmake -G&quot;Visual Studio 14 2015 Win64&quot; -DBOOST_DIR=c:\path\to\extempore\boost ..
</pre></div>
</div>
</div>
<div class="section" id="make-install">
<h3>Make &amp; Install<a class="headerlink" href="#make-install" title="Permalink to this headline">¶</a></h3>
<p>On <strong>Linux/OSX</strong> CMake will generate a <code class="docutils literal"><span class="pre">Makefile</span></code> in <code class="docutils literal"><span class="pre">cmake-build</span></code>,
with a few useful targets:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">make</span></code> will build Extempore (if you have a multicore machine, you
can try e.g. <code class="docutils literal"><span class="pre">make</span> <span class="pre">-j4</span></code> to parallelize the <code class="docutils literal"><span class="pre">make</span></code> step,
especially since LLVM takes so long to build)</li>
<li><code class="docutils literal"><span class="pre">make</span> <span class="pre">install</span></code> will install <code class="docutils literal"><span class="pre">extempore</span></code> into <code class="docutils literal"><span class="pre">/usr/local/bin</span></code></li>
<li><code class="docutils literal"><span class="pre">make</span> <span class="pre">uninstall</span></code> will remove the installed files</li>
<li><code class="docutils literal"><span class="pre">make</span> <span class="pre">aot</span></code>/<code class="docutils literal"><span class="pre">make</span> <span class="pre">aot_extended</span></code> will ahead-of-time compile the
core/extended &#8220;standard library&#8221;</li>
</ul>
<p>On <strong>Windows</strong>, CMake will generate a Visual Studio solution (<code class="docutils literal"><span class="pre">.sln</span></code>)
in <code class="docutils literal"><span class="pre">cmake-build</span></code>. Open it, and build the <code class="docutils literal"><span class="pre">extempore</span></code> target.</p>
</div>
</div>
<div class="section" id="extended-shared-libs">
<span id="install-extended-doc"></span><h2>&#8220;Extended&#8221; shared libs<a class="headerlink" href="#extended-shared-libs" title="Permalink to this headline">¶</a></h2>
<p>Extempore is all about being dynamic and adding functionality
on-the-fly. As a result, there are a bunch of helpful libraries which
provide <em>extended</em> functionality (e.g. for sound file IO, FFTs,
graphics) which we use a lot, but which aren&#8217;t compiled statically
into the <code class="docutils literal"><span class="pre">extempore</span></code> executable. Instead, we load this code at
runtime through shared libraries (<code class="docutils literal"><span class="pre">.dylib</span></code> on OSX, <code class="docutils literal"><span class="pre">.so</span></code> on Linux
and <code class="docutils literal"><span class="pre">.dll</span></code> on Windows).</p>
<p>This means that you have to have these shared libraries on your system
somewhere where Extempore can find them.</p>
<p>On <strong>OSX</strong> you can get them through homebrew (assuming you&#8217;ve done a
<code class="docutils literal"><span class="pre">brew</span> <span class="pre">tap</span> <span class="pre">benswift/extempore</span></code>):</p>
<div class="highlight-python"><div class="highlight"><pre>brew install assimp libsndfile portmidi libkiss-fft glfw3 libstb-image libnanovg
</pre></div>
</div>
<p>On <strong>Debian/Ubuntu</strong> you can use <code class="docutils literal"><span class="pre">apt-get</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get install libasound2-dev libgl1-mesa-dev libsndfile1-dev libassimp3 libglfw3 libportmidi-dev
</pre></div>
</div>
<p>You&#8217;ll have to build KissFFT, stb_image and nanovg yourself, using the
instructions below, but <code class="docutils literal"><span class="pre">make</span> <span class="pre">install</span></code> step means that you won&#8217;t have
to move anything into <code class="docutils literal"><span class="pre">libs/platform-shlibs</span></code>.</p>
<p>On <strong>Windows</strong>, there isn&#8217;t a package manager which will do the job so
you&#8217;ll need to build from source. Since Windows doesn&#8217;t have a lib path,
all the dlls should go in <code class="docutils literal"><span class="pre">c:/path/to/extempore/libs/platform-shlibs</span></code>.
So for all these deps, move the dll in there when it&#8217;s done.</p>
<div class="section" id="build-extended-dependencies-from-source">
<h3>Build extended dependencies from source<a class="headerlink" href="#build-extended-dependencies-from-source" title="Permalink to this headline">¶</a></h3>
<p>If you want to build these extended dependencies from source,
Extempore can do that automatically as part of the build process. In
the <a class="reference internal" href="#install-configure-doc"><span>cmake configure step</span></a> specify an
additional <code class="docutils literal"><span class="pre">-DEXTENDED_DEPS=ON</span></code> option, and the build process will
build them all (this will take a while) and put them in the
<code class="docutils literal"><span class="pre">extempore/libs/platform-shlibs</span></code> directory.</p>
</div>
</div>
<div class="section" id="aot-compiling-the-extempore-standard-library">
<h2>AOT-compiling the Extempore standard library<a class="headerlink" href="#aot-compiling-the-extempore-standard-library" title="Permalink to this headline">¶</a></h2>
<p>This step isn&#8217;t necessary, but it will make some common Extempore
libraries load up much faster. There are a few ways to do this, but
the easiest way is to use the <code class="docutils literal"><span class="pre">aot</span></code> target generated by the CMake
configure process:</p>
<div class="highlight-python"><div class="highlight"><pre>cd extempore/cmake-build # or wherever your Extempore build dir is
make aot
</pre></div>
</div>
<p>If you want the <a class="reference internal" href="#install-extended-doc"><span>extended</span></a> Extempore
standard library, then use the <code class="docutils literal"><span class="pre">make</span> <span class="pre">aot_extended</span></code> target instead.</p>
<p>To remove the AOT-compiled files, use the <code class="docutils literal"><span class="pre">clean_aot</span></code> target in the
makefile or MSVS project.</p>
</div>
<div class="section" id="llvm-3-7-0">
<h2>LLVM 3.7.0<a class="headerlink" href="#llvm-3-7-0" title="Permalink to this headline">¶</a></h2>
<p>If you don&#8217;t have an <code class="docutils literal"><span class="pre">EXT_LLVM_DIR</span></code> environment variable set on your
system, then Extempore will download, patch and build LLVM 3.7.0 for
you as part of the <code class="docutils literal"><span class="pre">make</span> <span class="pre">extempore</span></code> step. However, if you do want to
build it yourself, then here&#8217;s how.</p>
<p>Grab the <a class="reference external" href="http://llvm.org/releases/download.html#3.7.0">3.7.0 source tarball</a>, apply the
<code class="docutils literal"><span class="pre">extempore-llvm-3.7.0.patch</span></code> in <code class="docutils literal"><span class="pre">extras/</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre>cd /path/to/llvm-3.7.0.src
patch -p0 &lt; /path/to/extempore/extras/extempore-llvm-3.7.0.patch
</pre></div>
</div>
<p>On <strong>Windows</strong>, the <code class="docutils literal"><span class="pre">&lt;</span></code> redirection will work with <code class="docutils literal"><span class="pre">cmd.exe</span></code>, but
not PowerShell.</p>
<p>Then build LLVM, moving the libraries into <code class="docutils literal"><span class="pre">/path/to/extempore/llvm</span></code>
as part of the <code class="docutils literal"><span class="pre">install</span></code> step:</p>
<div class="highlight-python"><div class="highlight"><pre>mkdir cmake-build &amp;&amp; cd cmake-build
cmake -DCMAKE_BUILD_TYPE=Release -DLLVM_TARGETS_TO_BUILD=X86 -DLLVM_ENABLE_TERMINFO=OFF -DLLVM_ENABLE_ZLIB=OFF -DCMAKE_INSTALL_PREFIX=c:/path/to/extempore/llvm .. &amp;&amp; make &amp;&amp; make install
</pre></div>
</div>
<p>On <strong>Windows</strong>, you&#8217;ll also need to specify a 64-bit generator e.g.
<code class="docutils literal"><span class="pre">-G&quot;Visual</span> <span class="pre">Studio</span> <span class="pre">14</span> <span class="pre">2015</span> <span class="pre">Win64&quot;</span></code></p>
<p>To build, open the <code class="docutils literal"><span class="pre">Extempore.sln</span></code> file and build the <code class="docutils literal"><span class="pre">ALL_BUILD</span></code>
target, then the <code class="docutils literal"><span class="pre">INSTALL</span></code> target. If the install step doesn&#8217;t work,
you can try directly calling <code class="docutils literal"><span class="pre">cmake</span> <span class="pre">-P</span> <span class="pre">cmake_install.cmake</span></code> which
should be in the same directory. On Windows, the LLVM build output must
be installed into an <code class="docutils literal"><span class="pre">llvm</span></code> subdirectory in the top-level Extempore
directory (since the AOT compilation process will look in there to find
<code class="docutils literal"><span class="pre">llc</span></code>).</p>
<p>If LLVM complains about not being able to find python, you can specify a
path to your python executable with the PYTHON_EXECUTABLE CMake
variable:</p>
<div class="highlight-python"><div class="highlight"><pre>cmake -DCMAKE_BUILD_TYPE=Release -DLLVM_TARGETS_TO_BUILD=X86 -DLLVM_ENABLE_TERMINFO=OFF -DLLVM_ENABLE_ZLIB=OFF -DCMAKE_INSTALL_PREFIX=c:/path/to/extempore/llvm -DPYTHON_EXECUTABLE=c:/path/to/python .. &amp;&amp; make &amp;&amp; make install
</pre></div>
</div>
<p>If you <strong>do</strong> build your own patched version of LLVM for Extempore,
then make sure you set the <code class="docutils literal"><span class="pre">EXT_LLVM_DIR</span></code> environment variable to
point to that directory (where you installed LLVM) so that the
Extempore build process knows where to find it.</p>
</div>
<div class="section" id="packaging">
<h2>Packaging<a class="headerlink" href="#packaging" title="Permalink to this headline">¶</a></h2>
<p><em>Note: this is still experimental - things may not work, but
patches/suggestions welcome!</em></p>
<p>To build a &#8220;package&#8221; for binary distribution, use the <code class="docutils literal"><span class="pre">-DPACKAGE=ON</span></code>
cmake option.</p>
<div class="section" id="osx">
<h3>OSX<a class="headerlink" href="#osx" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>cmake -DPACKAGE=ON .. &amp;&amp; make -j8 aot_extended &amp;&amp; make package
</pre></div>
</div>
</div>
<div class="section" id="id1">
<h3>Windows<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>cmake -G&quot;Visual Studio 14 2015 Win64&quot; -DPACKAGE=ON -DBOOST_DIR=c:/Users/ben/Code/extempore/boost .. &amp;&amp; cmake --build . --config Release --target aot_extended &amp;&amp; cmake --build . --config Release --target package
</pre></div>
</div>
</div>
<div class="section" id="linux">
<h3>Linux<a class="headerlink" href="#linux" title="Permalink to this headline">¶</a></h3>
<p>TODO - investigate the CPack Debian package generator.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="editor-support.html" class="btn btn-neutral float-right" title="Text editors" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="quickstart.html" class="btn btn-neutral" title="Quickstart" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Andrew Sorensen.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.6.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>